(()=>{var e={};e.id=367,e.ids=[367],e.modules={440:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});var n=t(1658);let a=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,n.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1135:()=>{},2675:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>n});let n=(0,t(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/jjorand/perso/spellbook-dnd/src/app/scrapper/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/jjorand/perso/spellbook-dnd/src/app/scrapper/page.tsx","default")},2876:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,6444,23)),Promise.resolve().then(t.t.bind(t,6042,23)),Promise.resolve().then(t.t.bind(t,8170,23)),Promise.resolve().then(t.t.bind(t,9477,23)),Promise.resolve().then(t.t.bind(t,9345,23)),Promise.resolve().then(t.t.bind(t,2089,23)),Promise.resolve().then(t.t.bind(t,6577,23)),Promise.resolve().then(t.t.bind(t,1307,23))},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3310:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>i.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>d});var n=t(5239),a=t(8088),s=t(8170),i=t.n(s),o=t(893),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);t.d(r,l);let d={children:["",{children:["scrapper",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,2675)),"/Users/jjorand/perso/spellbook-dnd/src/app/scrapper/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,4431)),"/Users/jjorand/perso/spellbook-dnd/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,5284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/Users/jjorand/perso/spellbook-dnd/src/app/scrapper/page.tsx"],m={require:t,loadChunk:()=>Promise.resolve()},u=new n.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/scrapper/page",pathname:"/scrapper",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},3873:e=>{"use strict";e.exports=require("path")},4431:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>d,metadata:()=>l});var n=t(7413),a=t(2202),s=t.n(a),i=t(4988),o=t.n(i);t(1135);let l={title:"Create Next App",description:"Generated by create next app"};function d({children:e}){return(0,n.jsx)("html",{lang:"en",children:(0,n.jsx)("body",{className:`${s().variable} ${o().variable} antialiased`,children:e})})}},4669:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>o});var n=t(687),a=t(3210);let s=["arcane-gate","arcane-vigor","armor-of-agathys","arms-of-hadar","aura-of-purity","aura-of-vitality","banishing-smite","beast-sense","blade-ward","blinding-smite","circle-of-power","cloud-of-daggers","compelled-duel","conjure-barrage","conjure-volley","cordon-of-arrows","crown-of-madness","crusader-s-mantle","destructive-wave","elemental-weapon","feign-death","fount-of-moonlight","friends","grasping-vine","hail-of-thorns","hunger-of-hadar","jallarzi-s-storm-of-radiance","lightning-arrow","mind-sliver","power-word-fortify","staggering-smite","steel-wind-strike","summon-aberration","summon-beast","summon-celestial","summon-construct","summon-elemental","summon-fey","summon-fiend","summon-undead","swift-quiver","synaptic-static","tasha-s-bubbling-cauldron","telepathy","thorn-whip","thunderclap","thunderous-smite","toll-the-dead","witch-bolt","word-of-radiance","wrathful-smite","yolande-s-regal-presence","acid-splash","aid","alarm","alter-self","animal-friendship","animal-messenger","animal-shapes","animate-dead","animate-objects","antilife-shell","antimagic-field","antipathy-sympathy","arcane-eye","arcane-lock","astral-projection","augury","aura-of-life","awaken","bane","banishment","barkskin","beacon-of-hope","befuddlement","bestow-curse","bigby-s-hand","blade-barrier","bless","blight","blindness-deafness","blink","blur","burning-hands","call-lightning","calm-emotions","chain-lightning","charm-monster","charm-person","chill-touch","chromatic-orb","circle-of-death","clairvoyance","clone","cloudkill","color-spray","command","commune","commune-with-nature","comprehend-languages","compulsion","cone-of-cold","confusion","conjure-animals","conjure-celestial","conjure-elemental","conjure-fey","conjure-minor-elementals","conjure-woodland-beings","contact-other-plane","contagion","contingency","continual-flame","control-water","control-weather","counterspell","create-food-and-water","create-or-destroy-water","create-undead","creation","cure-wounds","dancing-lights","darkness","darkvision","daylight","death-ward","delayed-blast-fireball","demiplane","detect-evil-and-good","detect-magic","detect-poison-and-disease","detect-thoughts","dimension-door","disguise-self","disintegrate","dispel-evil-and-good","dispel-magic","dissonant-whispers","divination","divine-favor","divine-smite","divine-word","dominate-beast","dominate-monster","dominate-person","dragon-s-breath","drawmij-s-instant-summons","dream","druidcraft","earthquake","eldritch-blast","elementalism","enhance-ability","enlarge-reduce","ensnaring-strike","entangle","enthrall","etherealness","evard-s-black-tentacles","expeditious-retreat","eyebite","fabricate","faerie-fire","false-life","fear","feather-fall","find-familiar","find-steed","find-the-path","find-traps","finger-of-death","fire-bolt","fire-shield","fire-storm","fireball","flame-blade","flame-strike","flaming-sphere","flesh-to-stone","fly","fog-cloud","forbiddance","forcecage","foresight","freedom-of-movement","gaseous-form","gate","geas","gentle-repose","giant-insect","glibness","globe-of-invulnerability","glyph-of-warding","goodberry","grease","greater-invisibility","greater-restoration","guardian-of-faith","guards-and-wards","guidance","guiding-bolt","gust-of-wind","hallow","hallucinatory-terrain","harm","haste","heal","healing-word","heat-metal","hellish-rebuke","heroes--feast","heroism","hex","hold-monster","hold-person","holy-aura","hunter-s-mark","hypnotic-pattern","ice-knife","ice-storm","identify","illusory-script","imprisonment","incendiary-cloud","inflict-wounds","insect-plague","invisibility","jump","knock","legend-lore","leomund-s-secret-chest","leomund-s-tiny-hut","lesser-restoration","levitate","light","lightning-bolt","locate-animals-or-plants","locate-creature","locate-object","longstrider","mage-armor","mage-hand","magic-circle","magic-jar","magic-missile","magic-mouth","magic-weapon","major-image","mass-cure-wounds","mass-heal","mass-healing-word","mass-suggestion","maze","meld-into-stone","melf-s-acid-arrow","mending","message","meteor-swarm","mind-blank","mind-spike","minor-illusion","mirage-arcane","mirror-image","mislead","misty-step","modify-memory","moonbeam","mordenkainen-s-faithful-hound","mordenkainen-s-magnificent-mansion","mordenkainen-s-private-sanctum","mordenkainen-s-sword","move-earth","nondetection","nystul-s-magic-aura","otiluke-s-freezing-sphere","otiluke-s-resilient-sphere","otto-s-irresistible-dance","pass-without-trace","passwall","phantasmal-force","phantasmal-killer","phantom-steed","planar-ally","planar-binding","plane-shift","plant-growth","poison-spray","polymorph","power-word-heal","power-word-kill","power-word-stun","prayer-of-healing","prestidigitation","prismatic-spray","prismatic-wall","produce-flame","programmed-illusion","project-image","protection-from-energy","protection-from-evil-and-good","protection-from-poison","purify-food-and-drink","raise-dead","rary-s-telepathic-bond","ray-of-enfeeblement","ray-of-frost","ray-of-sickness","regenerate","reincarnate","remove-curse","resistance","resurrection","reverse-gravity","revivify","rope-trick","sacred-flame","sanctuary","scorching-ray","scrying","searing-smite","see-invisibility","seeming","sending","sequester","shapechange","shatter","shield","shield-of-faith","shillelagh","shining-smite","shocking-grasp","silence","silent-image","simulacrum","sleep","sleet-storm","slow","sorcerous-burst","spare-the-dying","speak-with-animals","speak-with-dead","speak-with-plants","spider-climb","spike-growth","spirit-guardians","spiritual-weapon","starry-wisp","stinking-cloud","stone-shape","stoneskin","storm-of-vengeance","suggestion","summon-dragon","sunbeam","sunburst","symbol","tasha-s-hideous-laughter","telekinesis","teleport","teleportation-circle","tenser-s-floating-disk","thaumaturgy","thunderwave","time-stop","tongues","transport-via-plants","tree-stride","true-polymorph","true-resurrection","true-seeing","true-strike","tsunami","unseen-servant","vampiric-touch","vicious-mockery","vitriolic-sphere","wall-of-fire","wall-of-force","wall-of-ice","wall-of-stone","wall-of-thorns","warding-bond","water-breathing","water-walk","web","weird","wind-walk","wind-wall","wish","word-of-recall","zone-of-truth"],i="https://www.aidedd.org/spell/";function o(){let[e,r]=(0,a.useState)([]),t=e=>{let r=[];e.includes("Action")&&(e.includes("Bonus Action")?r.push("Bonus Action"):r.push("Action")),e.includes("Ritual")&&r.push("Ritual");let t=e.match(/(\d+)\s+(minute|hour|day)s?/i);if(t){let e=parseInt(t[1]),n=t[2].toLowerCase()+"s";r.push({value:e,unit:n})}return r.length>0?r:["Action"]},o=e=>{let r=[];for(let t of["V","S","M"])e.includes(t)&&r.push(t);return r},l=(e,r)=>{let t=e.match(/\((.+)\)/i);if(!t)return null;{let e=t[1],n=r.match(/\((.+)\)/i);return n?{en:e,fr:n[1]}:null}},d=(e,r)=>{if(e.toLowerCase().includes("touch")||r.toLowerCase().includes("contact"))return"touch";if(e.toLowerCase().includes("self")||r.toLowerCase().includes("personnelle"))return"self";let t=e.match(/(\d+)\s*feet?/i),n=r.match(/(\d+(?:,\d+)?)\s*m(?:ètre)?/i);return t&&n?{feet:parseInt(t[1]),meter:parseFloat(n[1].replace(",","."))}:{feet:0,meter:0}},c=e=>{if(e.toLowerCase().includes("instantaneous"))return"Instantaneous";if(e.toLowerCase().includes("until dispelled"))return"Until dispelled";let r=e.match(/(\d+)\s+(minute|hour|day)s?/i);return r?{value:parseInt(r[1]),unit:r[2].toLowerCase()+"s"}:"Instantaneous"};return(0,a.useCallback)(async()=>{let e=[];for(let r of s)try{let n=i+r,a=await fetch(n),s=await a.text(),m=new DOMParser().parseFromString(s,"text/html"),u=m.querySelector("h1")?.textContent?.trim()||"",p=m.querySelector(".description")?.textContent?.trim()||"",h=m.querySelector(".ecole")?.textContent?.trim()||"",f=/Level\s(\d+)\s(.*)\s\(([^\)]+)\)/,g=h.match(f),b=parseInt(g?.[1]||"0"),w=g?.[2]||"",y=(g?.[3]||"").split(",").map(e=>e.trim()),v=m.querySelector(".t")?.textContent?.replace("Casting Time:","").trim()||"",k=m.querySelector(".r")?.textContent?.replace("Range:","").trim()||"",x=m.querySelector(".d")?.textContent?.replace("Duration:","").trim()||"",j=m.querySelector(".c")?.textContent?.replace("Components:","").trim()||"",P=m.querySelector(".trad a[href^='fr']")?.getAttribute("href"),C="",q="",S="",_="";if(P)try{let e=await fetch(i+P),r=await e.text(),t=new DOMParser().parseFromString(r,"text/html");C=t.querySelector("h1")?.textContent?.trim()||"",q=t.querySelector(".description")?.textContent?.trim()||"",S=t.querySelector(".r")?.textContent?.replace("Port\xe9e","").replace(":","").trim()||"",_=t.querySelector(".c")?.textContent?.replace("Composantes","").replace(":","").trim()||""}catch(e){console.error(`Erreur lors du fetch FR pour ${r}:`,e)}let A=t(v),L=d(k,S),z=c(x),E=o(j),G=l(j,_),I={id:r,name:{en:u,fr:C},level:b,breeds:y,school:w,castingTime:A,Range:L,components:E,materials:G,duration:z,description:{en:p,fr:q}};e.push(I)}catch(e){console.error(`Erreur lors du scraping de ${r}:`,e)}return e},[]),(0,n.jsx)("pre",{children:JSON.stringify(e,null,2)})}},5620:()=>{},8356:()=>{},8372:(e,r,t)=>{Promise.resolve().then(t.bind(t,4669))},8516:(e,r,t)=>{Promise.resolve().then(t.bind(t,2675))},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9551:e=>{"use strict";e.exports=require("url")},9724:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,6346,23)),Promise.resolve().then(t.t.bind(t,7924,23)),Promise.resolve().then(t.t.bind(t,5656,23)),Promise.resolve().then(t.t.bind(t,99,23)),Promise.resolve().then(t.t.bind(t,8243,23)),Promise.resolve().then(t.t.bind(t,8827,23)),Promise.resolve().then(t.t.bind(t,2763,23)),Promise.resolve().then(t.t.bind(t,7173,23))}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),n=r.X(0,[447,169,658],()=>t(3310));module.exports=n})();